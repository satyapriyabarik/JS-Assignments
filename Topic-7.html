<!Doctype html>
<html>

<head>
    <title>Javascript Assignments</title>
    <style>
        #output {

            background-color: #CCC;
            margin-top: 10px;
            width: 550px;
            word-break: break-all;
            padding: 5px;
        }
    </style>
</head>

<body>
    <section>
        <article>
            <h4>Topic 7: JavaScript Functions</h4>
            <h5>Assignment 1:</h5>
            <div>
                <button onclick="getall()">Click to get all Fibonacci numbers</button>
                <div id="output"></div>
            </div>
            <hr />
            <h5>Assignment 2:</h5>
            <div>
                <div>
                    Array1:[a,b.c] Array2:[1,2,3]
                </div><br />
                <button onclick="evaluatearray()">Click to get alternate merged array</button><br /><br />
                <div id="output1"></div>
            </div>
            <hr />
            <h5>Assignment 3:</h5>
            <div>
               <div>Given Array: [7,6,8,4,9,5,3,2,1]</div>  <br/>
               <div>
                   <label>
                       Enter position: <input type="text" id="arpos"/> &nbsp;<button onclick="getnew()">Display</button>
                   </label>
               </div><br/>
               <div id="ar-output"></div>
            </div><hr/>
            <h5>Assignment 4:</h5>
            <div>URL: https://wipro.com/pubnub/js/search?utf8=%E2%9C%93&q=javascript</div><br/>
            <div id="op4"></div><hr/>
        </article>
    </section>
</body>

<script>
    //Assignment-1
    function getFibonacci(num) {
        if (num === 1) {
            return [0, 1];
        }
        else {
            var series = getFibonacci(num - 1);
            series.push(series[series.length - 1] + series[series.length - 2]);
            return series;
        }

    };

    function getall() {
        var x = getFibonacci(100);
        x = x.toString();
        document.getElementById('output').innerHTML = "[" + x + "]";
    }
    //Assignment-2

    function alternateArraySwap(ar1, ar2) {
        var targetArray = [];
        var arr = ar1.concat(ar2);

        targetArray = arr[0] + ',' + arr[3] + ',' + arr[1] + ',' + arr[4] + ',' + arr[2] + ',' + arr[5];
        return targetArray;
    }

    function evaluatearray() {
        var array1 = ["a", "b", "c"];
        var array2 = [1, 2, 3];
        var x = alternateArraySwap(array1, array2);
        x = x.toString();
        document.getElementById('output1').innerHTML = "[" + x + "]";
    }



//Assignment-3

function getlastitems(garray,len){
    var tempArr1;
   if(len >= garray.length){
    garray.splice(0, 0);
   }else{
   
    garray.splice(0, len);
   }
return garray
}
function getnew(){
    if(isNaN(document.getElementById('arpos').value)){
        document.getElementById('arpos').value='';
        return false;
    }else{
        var leng = document.getElementById('arpos').value;
        var givenArray = [7,6,8,4,9,5,3,2,1];
        var x= getlastitems(givenArray,leng);
        x = x.toString();
        document.getElementById('ar-output').innerHTML = "[" + x + "]";
    }
}
// Assignment-4
var urlpath="https://wipro.com/pubnub/js/search?utf8=%E2%9C%93&q=javascript'";
function URLParsing(url) {
    var a = document.createElement('a');
    a.href = url;
    return {
        source: url,
        protocol: a.protocol.replace(':', ''),
        port: a.port,
        host: a.hostname,
        query: a.search,
        params: (function () {
            var ret = {},
                seg = a.search.replace(/^\?/, '').split('&'),
                len = seg.length,
                i = 0,
                s;
            for (; i < len; i++) {
                if (!seg[i]) {
                    continue;
                }
                s = seg[i].split('=');
                ret[s[0]] = s[1];
            }
            return ret;
        })()
    };
}

console.log(URLParsing('https://wipro.com/pubnub/js/search?utf8=%E2%9C%93&q=javascript'));
var storedInfo = URLParsing('https://wipro.com/pubnub/js/search?utf8=%E2%9C%93&q=javascript');
document.getElementById('op4').innerHTML ="Protocol: "+ storedInfo.protocol +"<br/> Port: "+ storedInfo.port+"<br/> Host: "+ storedInfo.host+"<br/> Query: "+ storedInfo.query
+"<br/> Params: "+ storedInfo.params.q;

</script>

</html>